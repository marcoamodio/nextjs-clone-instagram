{"ast":null,"code":"var _jsxFileName = \"/Users/marcoamodio/Desktop/nextjs-clone-instagram/pages/index.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect } from \"react\";\nimport Layout from \"../components/layout\";\nimport Stories from \"../components/stories\";\nimport FeedItem from \"../components/feed-item\";\nimport MoreModalItems from \"../components/more-modal\";\nimport LoginUserHook from \"../hooks/global_hook\";\nexport default function Home() {\n  _s();\n\n  var _this = this;\n\n  var _LoginUserHook = LoginUserHook(),\n      data = _LoginUserHook.data,\n      setLoginUser = _LoginUserHook.setLoginUser;\n\n  var _useState = useState(null),\n      loginData = _useState[0],\n      setLoginData = _useState[1];\n\n  var _useState2 = useState(null),\n      stories = _useState2[0],\n      setStories = _useState2[1];\n\n  var _useState3 = useState(null),\n      feed = _useState3[0],\n      setFeed = _useState3[1];\n\n  var updateLoginUser = function updateLoginUser(data) {\n    setLoginUser(data);\n    setLoginData(data);\n  };\n\n  useEffect(function () {\n    fetch(\"/api/loginUser\").then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      return updateLoginUser(data);\n    });\n    fetch(\"/api/feed\").then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      return setFeed(data);\n    });\n    fetch(\"/api/stories\").then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      return setStories(data);\n    });\n  }, []);\n  return __jsx(React.Fragment, null, loginData && __jsx(Layout, {\n    user: loginData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, __jsx(MoreModalItems, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }\n  }), __jsx(\"div\", {\n    className: \"homepage-feed lg:mr-8 flex flex-col \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  }, __jsx(Stories, {\n    stories: stories,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }), feed && feed.map(function (item) {\n    return __jsx(FeedItem, {\n      data: item,\n      key: item.pid,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 24\n      }\n    });\n  }))));\n}\n\n_s(Home, \"V6YA9orXlMk9XVeZQaL/1WMPv7g=\");\n\n_c = Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/marcoamodio/Desktop/nextjs-clone-instagram/pages/index.js"],"names":["useState","useEffect","Layout","Stories","FeedItem","MoreModalItems","LoginUserHook","Home","data","setLoginUser","loginData","setLoginData","stories","setStories","feed","setFeed","updateLoginUser","fetch","then","response","json","map","item","pid"],"mappings":";;;;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AAEA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,QAAP,MAAqB,yBAArB;AACA,OAAOC,cAAP,MAA2B,0BAA3B;AAEA,OAAOC,aAAP,MAA0B,sBAA1B;AAEA,eAAe,SAASC,IAAT,GAAgB;AAAA;;AAAA;;AAC7B,uBAA+BD,aAAa,EAA5C;AAAA,MAAQE,IAAR,kBAAQA,IAAR;AAAA,MAAcC,YAAd,kBAAcA,YAAd;;AAEA,kBAAkCT,QAAQ,CAAC,IAAD,CAA1C;AAAA,MAAOU,SAAP;AAAA,MAAkBC,YAAlB;;AACA,mBAA8BX,QAAQ,CAAC,IAAD,CAAtC;AAAA,MAAOY,OAAP;AAAA,MAAgBC,UAAhB;;AACA,mBAAwBb,QAAQ,CAAC,IAAD,CAAhC;AAAA,MAAOc,IAAP;AAAA,MAAaC,OAAb;;AAEA,MAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACR,IAAD,EAAU;AAChCC,IAAAA,YAAY,CAACD,IAAD,CAAZ;AACAG,IAAAA,YAAY,CAACH,IAAD,CAAZ;AACD,GAHD;;AAKAP,EAAAA,SAAS,CAAC,YAAM;AACdgB,IAAAA,KAAK,CAAC,gBAAD,CAAL,CACGC,IADH,CACQ,UAACC,QAAD;AAAA,aAAcA,QAAQ,CAACC,IAAT,EAAd;AAAA,KADR,EAEGF,IAFH,CAEQ,UAACV,IAAD;AAAA,aAAUQ,eAAe,CAACR,IAAD,CAAzB;AAAA,KAFR;AAIAS,IAAAA,KAAK,CAAC,WAAD,CAAL,CACGC,IADH,CACQ,UAACC,QAAD;AAAA,aAAcA,QAAQ,CAACC,IAAT,EAAd;AAAA,KADR,EAEGF,IAFH,CAEQ,UAACV,IAAD;AAAA,aAAUO,OAAO,CAACP,IAAD,CAAjB;AAAA,KAFR;AAIAS,IAAAA,KAAK,CAAC,cAAD,CAAL,CACGC,IADH,CACQ,UAACC,QAAD;AAAA,aAAcA,QAAQ,CAACC,IAAT,EAAd;AAAA,KADR,EAEGF,IAFH,CAEQ,UAACV,IAAD;AAAA,aAAUK,UAAU,CAACL,IAAD,CAApB;AAAA,KAFR;AAGD,GAZQ,EAYN,EAZM,CAAT;AAcA,SACE,4BACGE,SAAS,IACR,MAAC,MAAD;AAAQ,IAAA,IAAI,EAAEA,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAK,IAAA,SAAS,EAAC,sCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,OAAD;AAAS,IAAA,OAAO,EAAEE,OAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEGE,IAAI,IACHA,IAAI,CAACO,GAAL,CAAS,UAACC,IAAD,EAAU;AACjB,WAAO,MAAC,QAAD;AAAU,MAAA,IAAI,EAAEA,IAAhB;AAAsB,MAAA,GAAG,EAAEA,IAAI,CAACC,GAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD,GAFD,CAHJ,CAFF,CAFJ,CADF;AAiBD;;GA3CuBhB,I;;KAAAA,I","sourcesContent":["import { useState, useEffect } from \"react\";\n\nimport Layout from \"../components/layout\";\nimport Stories from \"../components/stories\";\nimport FeedItem from \"../components/feed-item\";\nimport MoreModalItems from \"../components/more-modal\";\n\nimport LoginUserHook from \"../hooks/global_hook\";\n\nexport default function Home() {\n  const { data, setLoginUser } = LoginUserHook();\n\n  const [loginData, setLoginData] = useState(null);\n  const [stories, setStories] = useState(null);\n  const [feed, setFeed] = useState(null);\n\n  const updateLoginUser = (data) => {\n    setLoginUser(data);\n    setLoginData(data);\n  };\n\n  useEffect(() => {\n    fetch(\"/api/loginUser\")\n      .then((response) => response.json())\n      .then((data) => updateLoginUser(data));\n\n    fetch(\"/api/feed\")\n      .then((response) => response.json())\n      .then((data) => setFeed(data));\n\n    fetch(\"/api/stories\")\n      .then((response) => response.json())\n      .then((data) => setStories(data));\n  }, []);\n\n  return (\n    <>\n      {loginData && (\n        <Layout user={loginData}>\n          <MoreModalItems />\n          <div className=\"homepage-feed lg:mr-8 flex flex-col \">\n            <Stories stories={stories} />\n            {feed &&\n              feed.map((item) => {\n                return <FeedItem data={item} key={item.pid} />;\n              })}\n          </div>\n          {/* <HomeRightBar data={suggestions} /> */}\n        </Layout>\n      )}\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}