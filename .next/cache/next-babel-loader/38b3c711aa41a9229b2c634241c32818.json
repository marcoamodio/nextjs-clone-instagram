{"ast":null,"code":"var _jsxFileName = \"/Users/marcoamodio/Desktop/nextjs-clone-instagram/pages/index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect } from \"react\";\nimport Layout from \"../components/layout\";\nimport Stories from \"../components/stories\";\nimport FeedItem from \"../components/feed-item\";\nimport MoreModalItems from \"../components/more-modal\";\nimport LoginUserHook from \"../hooks/global_hook\";\nexport default function Home() {\n  const {\n    data,\n    setLoginUser\n  } = LoginUserHook();\n  const {\n    0: loginData,\n    1: setLoginData\n  } = useState(null);\n  const {\n    0: stories,\n    1: setStories\n  } = useState(null);\n  const {\n    0: feed,\n    1: setFeed\n  } = useState(null);\n\n  const updateLoginUser = data => {\n    setLoginUser(data);\n    setLoginData(data);\n  };\n\n  useEffect(() => {\n    fetch(\"/api/loginUser\").then(response => response.json()).then(data => updateLoginUser(data));\n    fetch(\"/api/feed\").then(response => response.json()).then(data => setFeed(data));\n    fetch(\"/api/stories\").then(response => response.json()).then(data => setStories(data));\n  }, []);\n  return __jsx(React.Fragment, null, loginData && __jsx(Layout, {\n    user: loginData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, __jsx(MoreModalItems, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }\n  }), __jsx(\"div\", {\n    className: \"homepage-feed lg:mr-8 flex flex-col \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  }, __jsx(Stories, {\n    stories: stories,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }), feed && feed.map(item => {\n    return __jsx(FeedItem, {\n      data: item,\n      key: item.pid,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 24\n      }\n    });\n  }))));\n}","map":{"version":3,"sources":["/Users/marcoamodio/Desktop/nextjs-clone-instagram/pages/index.js"],"names":["useState","useEffect","Layout","Stories","FeedItem","MoreModalItems","LoginUserHook","Home","data","setLoginUser","loginData","setLoginData","stories","setStories","feed","setFeed","updateLoginUser","fetch","then","response","json","map","item","pid"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AAEA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,QAAP,MAAqB,yBAArB;AACA,OAAOC,cAAP,MAA2B,0BAA3B;AAEA,OAAOC,aAAP,MAA0B,sBAA1B;AAEA,eAAe,SAASC,IAAT,GAAgB;AAC7B,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAyBH,aAAa,EAA5C;AAEA,QAAM;AAAA,OAACI,SAAD;AAAA,OAAYC;AAAZ,MAA4BX,QAAQ,CAAC,IAAD,CAA1C;AACA,QAAM;AAAA,OAACY,OAAD;AAAA,OAAUC;AAAV,MAAwBb,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM;AAAA,OAACc,IAAD;AAAA,OAAOC;AAAP,MAAkBf,QAAQ,CAAC,IAAD,CAAhC;;AAEA,QAAMgB,eAAe,GAAIR,IAAD,IAAU;AAChCC,IAAAA,YAAY,CAACD,IAAD,CAAZ;AACAG,IAAAA,YAAY,CAACH,IAAD,CAAZ;AACD,GAHD;;AAKAP,EAAAA,SAAS,CAAC,MAAM;AACdgB,IAAAA,KAAK,CAAC,gBAAD,CAAL,CACGC,IADH,CACSC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EADtB,EAEGF,IAFH,CAESV,IAAD,IAAUQ,eAAe,CAACR,IAAD,CAFjC;AAIAS,IAAAA,KAAK,CAAC,WAAD,CAAL,CACGC,IADH,CACSC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EADtB,EAEGF,IAFH,CAESV,IAAD,IAAUO,OAAO,CAACP,IAAD,CAFzB;AAIAS,IAAAA,KAAK,CAAC,cAAD,CAAL,CACGC,IADH,CACSC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EADtB,EAEGF,IAFH,CAESV,IAAD,IAAUK,UAAU,CAACL,IAAD,CAF5B;AAGD,GAZQ,EAYN,EAZM,CAAT;AAcA,SACE,4BACGE,SAAS,IACR,MAAC,MAAD;AAAQ,IAAA,IAAI,EAAEA,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAK,IAAA,SAAS,EAAC,sCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,OAAD;AAAS,IAAA,OAAO,EAAEE,OAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEGE,IAAI,IACHA,IAAI,CAACO,GAAL,CAAUC,IAAD,IAAU;AACjB,WAAO,MAAC,QAAD;AAAU,MAAA,IAAI,EAAEA,IAAhB;AAAsB,MAAA,GAAG,EAAEA,IAAI,CAACC,GAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD,GAFD,CAHJ,CAFF,CAFJ,CADF;AAiBD","sourcesContent":["import { useState, useEffect } from \"react\";\n\nimport Layout from \"../components/layout\";\nimport Stories from \"../components/stories\";\nimport FeedItem from \"../components/feed-item\";\nimport MoreModalItems from \"../components/more-modal\";\n\nimport LoginUserHook from \"../hooks/global_hook\";\n\nexport default function Home() {\n  const { data, setLoginUser } = LoginUserHook();\n\n  const [loginData, setLoginData] = useState(null);\n  const [stories, setStories] = useState(null);\n  const [feed, setFeed] = useState(null);\n\n  const updateLoginUser = (data) => {\n    setLoginUser(data);\n    setLoginData(data);\n  };\n\n  useEffect(() => {\n    fetch(\"/api/loginUser\")\n      .then((response) => response.json())\n      .then((data) => updateLoginUser(data));\n\n    fetch(\"/api/feed\")\n      .then((response) => response.json())\n      .then((data) => setFeed(data));\n\n    fetch(\"/api/stories\")\n      .then((response) => response.json())\n      .then((data) => setStories(data));\n  }, []);\n\n  return (\n    <>\n      {loginData && (\n        <Layout user={loginData}>\n          <MoreModalItems />\n          <div className=\"homepage-feed lg:mr-8 flex flex-col \">\n            <Stories stories={stories} />\n            {feed &&\n              feed.map((item) => {\n                return <FeedItem data={item} key={item.pid} />;\n              })}\n          </div>\n          {/* <HomeRightBar data={suggestions} /> */}\n        </Layout>\n      )}\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}