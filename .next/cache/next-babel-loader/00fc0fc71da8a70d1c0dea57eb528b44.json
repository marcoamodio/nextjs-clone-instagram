{"ast":null,"code":"var _jsxFileName = \"/Users/marcoamodio/Desktop/nextjs-clone-instagram/components/stories.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useRef, useEffect } from \"react\";\nimport StoryItem from \"./story-item\";\nimport Box from \"./box\";\nimport ArrowButton from \"./arrow_button\";\nexport default function Stories({\n  stories\n}) {\n  const {\n    0: x,\n    1: setX\n  } = useState(0);\n  const {\n    0: maxItems,\n    1: setMaxItems\n  } = useState(7);\n  const {\n    0: min_X,\n    1: setMinX\n  } = useState(0);\n  const windowRef = useRef(null);\n  useEffect(() => {\n    if (windowRef.current.clientWidth > 0) {\n      (windowRef.current.clientWidth / 80 | 0) !== maxItems && (windowRef.current.clientWidth / 80 | 0) <= 7 && setMaxItems(windowRef.current.clientWidth / 80 | 0);\n      setMinX(-(((stories === null || stories === void 0 ? void 0 : stories.length) - maxItems) * 80 + (5 - maxItems) * 15));\n    }\n  });\n\n  const calculateTransform = newX => {\n    if (newX < min_X) setX(min_X);else if (newX > 0) setX(0);else setX(newX);\n  };\n\n  return __jsx(Box, {\n    className: \"stories-container sm:full-width\",\n    border: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"stories-feed overflow-y-hidden py-4 px-2 flex relative items-center\",\n    ref: windowRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }, x !== 0 && __jsx(ArrowButton, {\n    place: \"left\",\n    text: \"<\",\n    onClick: () => calculateTransform(x + 320),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 11\n    }\n  }), __jsx(\"div\", {\n    className: \"stories-feed-floating flex relative transition ease-linear duration-300\",\n    style: {\n      transform: `translate(${x}px, 0px)`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, stories && stories.map(item => {\n    return __jsx(StoryItem, {\n      data: item,\n      key: item.username,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 22\n      }\n    });\n  })), x !== min_X && (stories === null || stories === void 0 ? void 0 : stories.length) > maxItems && __jsx(ArrowButton, {\n    place: \"right\",\n    text: \">\",\n    onClick: () => calculateTransform(x - 320),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  })));\n}","map":{"version":3,"sources":["/Users/marcoamodio/Desktop/nextjs-clone-instagram/components/stories.js"],"names":["React","useState","useRef","useEffect","StoryItem","Box","ArrowButton","Stories","stories","x","setX","maxItems","setMaxItems","min_X","setMinX","windowRef","current","clientWidth","length","calculateTransform","newX","transform","map","item","username"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport StoryItem from \"./story-item\";\nimport Box from \"./box\";\nimport ArrowButton from \"./arrow_button\";\n\nexport default function Stories({ stories }) {\n  const [x, setX] = useState(0);\n  const [maxItems, setMaxItems] = useState(7);\n  const [min_X, setMinX] = useState(0);\n\n  const windowRef = useRef(null);\n\n  useEffect(() => {\n    if (windowRef.current.clientWidth > 0) {\n      ((windowRef.current.clientWidth / 80) | 0) !== maxItems &&\n        ((windowRef.current.clientWidth / 80) | 0) <= 7 &&\n        setMaxItems((windowRef.current.clientWidth / 80) | 0);\n\n      setMinX(-((stories?.length - maxItems) * 80 + (5 - maxItems) * 15));\n    }\n  });\n\n  const calculateTransform = (newX) => {\n    if (newX < min_X) setX(min_X);\n    else if (newX > 0) setX(0);\n    else setX(newX);\n  };\n\n  return (\n    <Box className=\"stories-container sm:full-width\" border>\n      <div\n        className=\"stories-feed overflow-y-hidden py-4 px-2 flex relative items-center\"\n        ref={windowRef}\n      >\n        {x !== 0 && (\n          <ArrowButton\n            place=\"left\"\n            text=\"<\"\n            onClick={() => calculateTransform(x + 320)}\n          />\n        )}\n        <div\n          className=\"stories-feed-floating flex relative transition ease-linear duration-300\"\n          style={{ transform: `translate(${x}px, 0px)` }}\n        >\n          {stories &&\n            stories.map((item) => {\n              return <StoryItem data={item} key={item.username} />;\n            })}\n        </div>\n        {x !== min_X && stories?.length > maxItems && (\n          <ArrowButton\n            place=\"right\"\n            text=\">\"\n            onClick={() => calculateTransform(x - 320)}\n          />\n        )}\n      </div>\n    </Box>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}